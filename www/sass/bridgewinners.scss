/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "compass/reset";
@import "compass/css3";

html {
  box-sizing: border-box;
}
html, body {
  height: calc(100% - 0px);
}
*, *:before, *:after {
  box-sizing: inherit;
}

$ref_height: 647px;
$ref_width: 375px;
$TextColor: #ffffff;
$BWSeaGreen: #2a5461;
$BWRed: #9a032e;
$BWSlate: #416757;
$BWLightBlue: #ade7ed;
$FBBlue: #3b5998;
$GoogleRed: #dd4b39;
$deactiveGrey: #c7c7cc;
$lightGrey: #dddddd;
$darkGrey: #4a4a4a;
$blueGrey: #a4b7bb;
$passGreen: #417505;
$doubleRed: #d0021b;
$redoubleBlue: #000099;
$suitRed: #cb1517;
$white: #ffffff;
$black: #000000;
$brightRed: #d0021b;
$selectedLevelColor: $BWSeaGreen;
$menu_items: vote create history alerts account;

@mixin top($top) {
  top: $top/$ref_height * 100vh;
}

@mixin height($height) {
  height: $height/$ref_height * 100vh;
}

@mixin left($left) {
  left: $left/$ref_width * 100vw;
}

@mixin width($width) {
  width: $width/$ref_width * 100vw;
}

@mixin background_size($height, $width) {
  $background_width: $width/$ref_width * 100vw;
  $background_height: $height/$ref_height * 100vh;
  background-size: $background_width $background_height;
}

@mixin location($top, $height:null, $width:null, $left:null) {
  display: block;
  position: fixed;
  @include top($top);
  @if ($height) {
    @include height($height);
  }
  @if ($left) {
    @include left($left);
  }
  @if ($width) {
    @include width($width);
  }
}

@mixin font($font_size) {
  font-family: SFUIDisplay;
  font-size: ($font_size/20px) * (20px/$ref_height) * 100vh;
  font-weight: normal;
  font-style: normal;
  font-stretch: normal;
  letter-spacing: 0.7px;
  text-align: center;
}

@mixin background-contain() {
  background-repeat: no-repeat;
  background-position: center center;
  background-size: contain;
}

@mixin background-cover() {
  background-repeat: no-repeat;
  background-size: cover;
}

.inline-block {
  display: inline;
}

%flex-vertical-center {
  display: flex !important;
  justify-content: center;
  flex-direction: column;
}
%flex-vertical-center2 {
  display: flex !important;
  align-items: center;
}

%vertical-center {
  position: relative;
  top: 50%;
  -webkit-transform: translateY(-50%);
}

%horizontal-center {
  left: 0;
  right: 0;
  margin: 0 auto;
}

.center {
  display: block;
	@extend %horizontal-center;
}

[data-suit="d"], [data-suit="h"] {
  color: $suitRed;
}

#vote-page.bidding {
  #description {
    @include location(339px, 57px, 375px);
  }
}

#vote-page.lead {
  #description {
    @include location(259px, 57px, 375px);
  }
}

#create-page {
  #hand-header {
    @include location(54px, 20px, 360px, 15px);
    @include font(17px);
    letter-spacing: -0.4px;
    color: $darkGrey;
    text-align: left;
  }
  #hand {
    @include location(89px, 66px, 345px, 15px);
    hand, content {
      display: block;
      width: 100%;
      height: 100%;
    }
    cards {
      display: inline-block;
      height: 100%;
    }
    card {
        position: absolute;
        color: transparent;
        text-indent: -9999px;
        @include height(66px);
        @include width(48px);
        cursor: pointer;
    }
    card.unassigned {
      @include border-radius(5px);
      background-color: $lightGrey;
      border: solid 1px #979797;
    }
    $suits: s h d c;
    $ranks: a k q j t 9 8 7 6 5 4 3 2;
    [data-suit][data-rank] {
      @include background-cover();
    }
    @each $suit in $suits {
      [data-suit="#{$suit}"][data-rank="x"] {
        background-image: url("img/#{$suit}2.png");
      }
      @each $rank in $ranks {
        [data-suit="#{$suit}"][data-rank="#{$rank}"] {
          background-image: url("img/#{$suit}#{$rank}.png");
        }
      }
    }
    @for $i from 1 through 13 {
      [data-card-number="#{$i}"] {
        $left: ($i - 1) * 25px;
        @include left($left);
      }
    }
  }
  #deck-header {
    @include location(184px, 20px, 360px, 15px);
    @include font(17px);
    letter-spacing: -0.4px;
    color: $darkGrey;
    text-align: left;
  }
  #deck {
    card-deck, content {
      display: block;
      width: 100%;
      height: 100%;
    }
    card {
        position: absolute;
        color: transparent;
        text-indent: -9999px;
        @include height(66px);
        @include width(48px);
        cursor: pointer;
    }
    $suits: s h d c;
    $ranks: a k q j t 9 8 7 6 5 4 3 2;
    [data-suit][data-rank] {
      @include background-cover();
    }
    @each $suit in $suits {
      [data-suit="#{$suit}"][data-rank="x"].unassigned {
        background-image: url("img/#{$suit}2.png");
      }
      @each $rank in $ranks {
        [data-suit="#{$suit}"][data-rank="#{$rank}"].unassigned {
          background-image: url("img/#{$suit}#{$rank}.png");
        }
      }
    }
    card.assigned {
      @include border-radius(5px);
      background-color: $lightGrey;
      border: solid 1px #979797;
    }
    @for $i from 1 through 52 {
      [data-card-number="#{$i}"] {
        $left: (($i - 1) % 13) * 25px + 15px;
        $row_num: 0;
        @if $i > 39 {
          $row_num: 3;
        }
        @else if $i > 26 {
          $row_num: 2;
        }
        @else if $i > 13 {
          $row_num: 1;
        }
        @else {
          $row_num: 0;
        }
        @include left($left);
        @include top(($row_num * 80px) + 170px);
      }
    }
  }
  .button {
    @include font(17px);
    @include border-radius(5px);
    color: $darkGrey;
    background-color: $lightGrey;
  }
  .button.enabled {
    color: $white;
    background-color: $BWRed;
    cursor: pointer;
  }
  #create-reset-button {
    @extend %flex-vertical-center;
    @include location(535px, 44px, 169px, 15px);
  }
  #create-continue-button {
    @extend %flex-vertical-center;
    @include location(535px, 44px, 169px, 191px);
  }
}

/* Bidding vote page styles. */
#vote-page {
  #avatar {
    $height: 35px;
    @include location(59px, $height, $height, 15px);
    // Width should be same as height. So this hack.
    width: $height/$ref_height * 100vh;
    background-color: #d8d8d8;
    border: solid 2px $BWSlate;
    @include border-radius(50%);
    @include background-contain();
  }
  #name {
    @extend %flex-vertical-center2;
    @include location(59px, 35px, 200px, 56px);
    @include font(17px);
    text-align: left;
    color: $darkGrey;
  }
  #user {
    color: $BWRed;
    font-weight: 600;
    margin-right: 5px;
  }
  #comments {
    @extend %flex-vertical-center2;
    @include location(59px, 35px, 40px, 262px);
    @include font(17px);
    color: $BWRed;
    font-weight: 600;
  }
  #comments:before {
      content: "";
      display: block;
      background: url("img/comments.png") no-repeat;
      @include background-contain();
      width: 20px;
      height: 20px;
      float: left;
      margin-right: 5px;
  }
  #likes {
    @extend %flex-vertical-center2;
    @include location(59px, 35px, 40px, 316px);
    @include font(17px);
    color: $BWRed;
    font-weight: 600;
  }
  #likes:before {
      content: "";
      display: block;
      background: url("img/likes.png") no-repeat;
      @include background-contain();
      width: 20px;
      height: 20px;
      float: left;
      margin-right: 5px;
  }
  #auction {
    @include location(109px, 135px, 230px, 15px);
    @include font(20px);
    background-color: $white;
    border: solid 2px $BWSlate;
    directions, calls {
      display: table;
      table-layout: fixed;
      width: 100%;
    }
    directions {
      @include font(20px);
      height: 17.77%;
      border-bottom: solid 2px $BWSlate;
    }
    calls {
      @include font(18px);
      height: 82.23%;
    }
    row {
      display: table-row;
      width: 100%;
    }
    direction, call {
      $width: 25%;
      display: table-cell;
    }
    direction {
      font-weight: 600;
      letter-spacing: -0.8px;
      text-align: center;
      color: $black;
      background-color: $white;
    }
    direction[data-vulnerable] {
      color: $white;
      background-color: $brightRed;
    }
    call {
      font-weight: 600;
      line-height: 1.28;
      letter-spacing: -0.5px;
      text-transform: uppercase;
    }
  }
  #vulnerability {
    [data-vulnerable="yes"] {
      color: $white;
      background-color: $brightRed;
    }
    [data-vulnerable="no"] {
      color: $black;
      background-color: $white;
    }
    #info-wrapper {
      @include location(109px, 135px, 105px, 255px);
      background-color: $lightGrey;
      border: solid 2px $BWSlate;
    }
    #vul-e {
      @include location(139px, 76px, 21px, 332px);
      border: solid 2px $BWSlate;
      border-left: 0;
    }
    #vul-w {
      @include location(139px, 76px, 21px, 262px);
      border: solid 2px $BWSlate;
      border-right: 0;
    }
    .vulnerability {
      @extend %flex-vertical-center;
      text-align: center;
    }
    #scoring {
      @include location(139px, 76px, 53.1px, 281px);
      @extend %flex-vertical-center;
      background-color: $BWLightBlue;
      border: solid 2px $BWSlate;
      text-align: center;
      color: $black;
      z-index: 1;
      word-wrap: break-word;
    }
    #vul-n {
      @include location(116px, 25px, 53.1px, 281px);
      border: solid 2px $BWSlate;
      border-bottom: 0;
    }
    #vul-s {
      @include location(213px, 25px, 53.1px, 281px);
      border: solid 2px $BWSlate;
      border-top: 0;
    }
  }
  #description {
    @include font(17px);
    color: $darkGrey;
    text-align: justify;
    padding: 5px;
    background-color: $white;
    border: solid 1px $deactiveGrey;
    overflow-y: hidden;
    padding-right: 7vw;
    background-image: url('images/icons-png/carat-d-black.png');
    background-repeat: no-repeat;
    background-position: right 5px top 5px;
    //@include background_size(13px, 8px);
  }
  #hand {
    @include location(258px, 66px, 349px, 13px);
  }
  #lead-box {
    @include location(320px, 200px, 343px, 16px);
  }
  #hand, #lead-box {
    hand, content {
      display: block;
      width: 100%;
      height: 100%;
    }
    cards {
      display: inline-block;
      height: 100%;
    }
    card {
        position: absolute;
        color: transparent;
        text-indent: -9999px;
        @include height(66px);
        @include width(48px);
        cursor: pointer;
    }
    card.selected {
      top: -10px;
      -webkit-filter: sepia(1);
      filter: sepia(1);
    }
    $suits: s h d c;
    $ranks: a k q j t 9 8 7 6 5 4 3 2;
    [data-suit][data-rank] {
      @include background-cover();
    }
    @each $suit in $suits {
      [data-suit="#{$suit}"][data-rank="x"] {
        background-image: url("img/#{$suit}2.png");
      }
      @each $rank in $ranks {
        [data-suit="#{$suit}"][data-rank="#{$rank}"] {
          background-image: url("img/#{$suit}#{$rank}.png");
        }
      }
    }
  }
  #hand {
    @for $i from 1 through 13 {
      [data-card-number="#{$i}"] {
        $left: ($i - 1) * 25px;
        @include left($left);
      }
    }
  }
  #lead-box {
    card {
      @include left(150px);
      transform-origin: center 60vw;
    }
    $end_angle: 45deg;
    $increment_angle: 7.5deg;
    @for $i from 1 through 13 {
      [data-card-number="#{$i}"] {
        $angle: ($i - 1) * $increment_angle - $end_angle;
        transform: rotate($angle);
      }
    }
  }
  #bidding-box {
    @include location(411px, 96px, 343px, 16px);
    @include font(36px);
    font-weight: 600;
    letter-spacing: -0.9px;
    color: $black;
    levels, calls {
      display: table;
      table-layout: fixed;
      width: 100%;
    }
    level, call {
      $width: 100%/7%;
      display: table-cell;
      height: 50%;
      border: solid 1px $BWSeaGreen;
      background-color: $blueGrey;
      text-transform: uppercase;
      cursor: pointer;
    }
    level.disabled, call.disabled {
      cursor: not-allowed;
      opacity: 0.4;
    }
    call[data-suit="p"] {
      background-color: $passGreen;
      color: $white;
    }
    call[data-suit="x"] {
      background-color: $doubleRed;
      color: $white;
    }
    call[data-suit="r"] {
      background-color: $redoubleBlue;
      color: $white;
    }
    level.selected, call.selected {
      background-color: $BWSeaGreen;
    }
    level.selected {
      color: $white;
    }
  }
  .button {
    @include font(17px);
    @include border-radius(5px);
    color: $darkGrey;
    background-color: $lightGrey;
  }
  .button.enabled {
    color: $white;
    background-color: $BWRed;
    cursor: pointer;
  }
  #skip-submit-button {
    @extend %flex-vertical-center;
    @include location(539px, 44px, 105px, 15px);
  }
  #abstain-submit-button {
    @extend %flex-vertical-center;
    @include location(539px, 44px, 105px, 135px);
  }
  #vote-submit-button {
    @extend %flex-vertical-center;
    @include location(539px, 44px, 105px, 255px);
  }
}

/* Login page styles. */
.login-page-content {
  height: 100vh;
  width: 100vw;
  background: url(img/bridgewinners_background.png) no-repeat center center fixed;
  background-size: cover;
  .bridgewinners-logo {
    @include location(59px);
    @extend %horizontal-center;
  }
  input {
    @extend %horizontal-center;
    @include font(20px);
    @include border-radius(5px);
    box-shadow: inset 0 1px 3px 0 rgba(0, 0, 0, 0.5);
  }
  input.username {
    @include location(264px, 57px, 335px);
  }
  input.password {
    @include location(331px, 57px, 335px);
  }
  button {
    @extend %horizontal-center;
    @include font(20px);
    color: #ffffff;
    @include border-radius(5px);
  }
  button.bridgewinners {
    background-color: $BWRed;
    @include location(398px, 44px, 335px);
  }
  button.facebook {
    background-color: $FBBlue;
    @include location(452px, 44px, 335px);
  }
  button.google {
    background-color: $GoogleRed;
    @include location(506px, 44px, 335px);
  }
}

body.ui-mobile-viewport {
  overflow-y: hidden;
}

.ui-page-active {
  overflow-x: visible !important;
}

.hide {
  display: none;
  visibility: hidden;
}

.carat-right {
  padding-right: 7vw;
  background-image: url('images/icons-png/carat-r-black.png');
  background-repeat: no-repeat;
  background-position: right 5px center;
}

.carat-left {
  padding-left: 4vw;
  background-image: url('images/icons-png/carat-l-white.png');
  background-repeat: no-repeat;
  background-position: left 5px center;
}

.header-container {
  @include font(17px);
  background-color: $BWSeaGreen;
  @include location(0px, 44px, 375px);
  @extend %flex-vertical-center;
  font-weight: 600;
  color: $TextColor;
  text-transform: capitalize;
}

.header-text {
  color: $TextColor;
  text-transform: capitalize;
}

#back-button {
  color: $TextColor;
  float: left;
  cursor: pointer;
}

/* Footer styles. */
%footer-container {
  position: absolute;
  width: 100vw;
  bottom: 0vh;
}
.footer-inner-container {
  @extend %footer-container;
  background-color: $BWSeaGreen;
  @include height(49px);
  box-shadow: inset 0 0.5px 0 0 #b2b2b2;
  .menu-item {
    @extend %vertical-center;
    height: 90%;
    width: 20vw;
    display: inline-block;
    @include background-contain();
  }
  @each $item in $menu_items {
    .#{$item}-icon.not-selected {
      background-image: url("img/#{$item}.png");
    }
  }
}
.footer-outer-container {
  @extend %footer-container;
  @include height(55px);
  .menu-item {
    height: 100%;
    width: 20vw;
    display: inline-block;
    .menu-icon {
      @extend %vertical-center;
      height: 80%;
      @include background-contain();
    }
  }
  .selected {
    background-color: #698f64;
    box-shadow: inset 0 1px 3px 0 rgba(0, 0, 0, 0.86);
    border: solid 3px #2a5461;
    @include border-top-radius(10px);
    box-sizing: border-box;
    @each $item in $menu_items {
      .#{$item}-icon {
        background-image: url("img/#{$item}.png");
      }
    }
  }
}

#account-page {
  #profile {
    @include location(44px, 108px, 375px);
    background-color: $white;
    border: solid 0.5px $deactiveGrey;
  }

  #avatar {
    $height: 75px;
    @include location(59px, $height, $height, 16px);
    // Width should be same as height. So this hack.
    width: $height/$ref_height * 100vh;
    background-color: $lightGrey;
    border: solid 1px #979797;
    @include border-radius(50%);
    @include background-contain();
  }

  #name {
    @extend %flex-vertical-center;
    @include location(64px, 20px, 254px, 106px);
    @include font(17px);
    text-align: left;
    font-weight: 600;
    color: $darkGrey;
  }

  #edit-profile-button {
    @extend %flex-vertical-center;
    @include location(91px, 26px, 254px, 106px);
    @include font(14px);
    @include border-radius(4px);
    background-color: $lightGrey;
    font-weight: 500;
    text-align: center;
    color: $darkGrey;
  }

  #account-options {
    @include location(152px);
    width: 100vw;
    background-color: $white;
    border: solid 0.5px $deactiveGrey;
    @include font(17px);
    text-align: left;
    color: $darkGrey;
  }

  #logout-submit-button {
    @extend %flex-vertical-center;
    @include location(542px, 44px);
    width: 100vw;
    background-color: $white;
    border: solid 0.5px $deactiveGrey;
    @include font(17px);
    text-align: left;
    color: $darkGrey;
    padding-left: 4%;
    cursor: pointer;
  }

  .list {
    @extend %flex-vertical-center;
    margin-left: 15px/$ref_width * 100vw;
    height: 44px/$ref_height * 100vh;
    border-bottom: solid 0.5px $deactiveGrey;
    cursor: pointer;
  }

  #account-options-page, #account-about-page {
    @include location(44px);
  }
}

.main-page {
  @include location(44px);
}
